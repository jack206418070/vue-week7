"use strict";(self["webpackChunkvue_week6"]=self["webpackChunkvue_week6"]||[]).push([[163],{2163:function(t,e,a){a.r(e),a.d(e,{default:function(){return S}});var s=a(3396);const i={class:"container"},l={class:"user-product mt-10 mb-10"},c={class:"row"},r=(0,s.uE)('<div class="col-lg-3"><div class="user-side-menu"><div class="search"><h3 class="text-title mb-2">輸入關鍵字</h3><input type="text my-2" placeholder="請輸入商品名稱" name="name"><button class="user-btn user-btn-gray my-4 py-2" type="button">查詢</button></div><ul class="user-menu"><li class="menu-item mt-10"><h3 class="text-medium text-c-thirdary f-size-xs">放心初精選</h3><ul class="mt-1"><li class="text-medium mt-2"><a href="#">新品上市</a></li><li class="text-medium mt-2"><a href="#">每週精選</a></li><li class="text-medium mt-2"><a href="#">檔期精選</a></li><li class="text-medium mt-2"><a href="#">加1元多1件</a></li></ul></li><li class="menu-item mt-8"><h3 class="text-medium text-c-thirdary f-size-xs">放心初精選</h3><ul class="mt-1"><li class="text-medium mt-2"><a href="#">新品上市</a></li><li class="text-medium mt-2"><a href="#">每週精選</a></li><li class="text-medium mt-2"><a href="#">檔期精選</a></li><li class="text-medium mt-2"><a href="#">加1元多1件</a></li></ul></li><li class="menu-item mt-10"><h3 class="text-medium text-c-thirdary f-size-xs">放心初精選</h3><ul class="mt-1"><li class="text-medium mt-2"><a href="#">新品上市</a></li><li class="text-medium mt-2"><a href="#">每週精選</a></li><li class="text-medium mt-2"><a href="#">檔期精選</a></li><li class="text-medium mt-2"><a href="#">加1元多1件</a></li></ul></li></ul></div></div>',1),n={class:"col-lg-9"},o={class:"content pb-3"};function d(t,e,a,d,m,u){const h=(0,s.up)("BannerView"),p=(0,s.up)("router-view"),w=(0,s.up)("CartView");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(h),(0,s._)("div",i,[(0,s._)("div",l,[(0,s._)("div",c,[r,(0,s._)("div",n,[(0,s._)("div",o,[(0,s.Wm)(p)])])])])]),(0,s.Wm)(w,{"cart-data":m.cart,onGetCart:u.getCart},null,8,["cart-data","onGetCart"])],64)}var m=a(5659),u=a(9242),h=a(7139);const p={class:"cart-modal bg-secondary"},w={class:"cart-modal-content p-3"},x={class:"title d-flex jy-content-between align-items-center"},v=(0,s._)("h4",{class:"text-medium text-c-white f-size-xs"},"已選購清單",-1),f={class:"user-content"},g=(0,s.uE)('<li class="user-content-title d-flex jy-content-between"><p class="name text-c-white">商品名稱</p><p class="qty text-c-white">數量</p><p class="onePrice text-c-white">單價</p><p class="totalprice text-c-white">總價</p><p class="delete"></p></li>',1),C={class:"name text-c-white"},_={class:"qty text-c-white"},y={class:"onePrice text-c-white"},b={class:"totalprice text-c-white"},k=["onClick"],z={class:"text-c-white"};function L(t,e,a,i,l,c){const r=(0,s.up)("LoadingView"),n=(0,s.up)("XIcon");return(0,s.wg)(),(0,s.iD)("div",p,[(0,s.Wm)(r,{active:l.isLoading},null,8,["active"]),(0,s.wy)((0,s._)("div",w,[(0,s._)("div",x,[v,(0,s._)("a",{onClick:e[0]||(e[0]=(0,u.iM)(((...t)=>c.controlModal&&c.controlModal(...t)),["prevent"])),class:"close text-c-white",href:"#"},[(0,s.Wm)(n)])]),(0,s._)("div",f,[(0,s._)("ul",null,[g,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.cart.carts,(t=>((0,s.wg)(),(0,s.iD)("li",{key:t.id,class:"user-content-inner d-flex align-items-center jy-content-between"},[(0,s._)("p",C,(0,h.zw)(t.product.title),1),(0,s._)("p",_,(0,h.zw)(t.qty),1),(0,s._)("p",y,"$"+(0,h.zw)(t.product.price),1),(0,s._)("p",b,"$"+(0,h.zw)(t.total),1),(0,s._)("a",{onClick:(0,u.iM)((e=>c.delCartProducts(t.id)),["prevent"]),class:"delete text-c-white",href:"#"},[(0,s.Wm)(n)],8,k)])))),128))])])],512),[[u.F8,l.isShow]]),(0,s._)("div",{onClick:e[1]||(e[1]=(...t)=>c.controlModal&&c.controlModal(...t)),class:"cart-modal-btn bg-secondary p-3"},[(0,s._)("p",z,"已購 $"+(0,h.zw)(l.cart.total),1)])])}function $(t,e){return(0,s.wg)(),(0,s.j4)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,s.Wm)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})])}var D={props:["cartData"],emits:["getCart"],data(){return{isShow:!1,cart:[],isLoading:!1}},components:{XIcon:$},methods:{controlModal(){this.isShow=!this.isShow},delCartProducts(t){this.isLoading=!0,this.$http.delete(`https://vue3-course-api.hexschool.io/v2/api/ginjack/cart/${t}`).then((()=>{this.$emit("getCart"),this.isLoading=!1})).catch((t=>{console.dir(t)}))}},watch:{cartData(){this.cart=this.cartData}},mounted(){this.cart=this.cartData}},M=a(89);const W=(0,M.Z)(D,[["render",L]]);var j=W,V={data(){return{cart:[]}},components:{BannerView:m.Z,CartView:j},methods:{getCart(){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/ginjack/cart").then((t=>{this.cart=t.data.data,this.$emitter.emit("updateCart",t.data.data)})).catch((t=>{console.dir(t)}))}},mounted(){this.getCart(),this.$emitter.on("updateCart",(t=>{this.cart=t}))}};const P=(0,M.Z)(V,[["render",d]]);var S=P}}]);
//# sourceMappingURL=163.c2821df4.js.map