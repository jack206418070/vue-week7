"use strict";(self["webpackChunkvue_week6"]=self["webpackChunkvue_week6"]||[]).push([[73],{4839:function(t,s,i){i.d(s,{Z:function(){return _}});var c=i(3396),e=i(7139);const o={class:"card"},r={class:"card-title bg-primary"},a={class:"text-medium text-c-white"},d={class:"card-footer"},n={class:"text-c-primary text-left mb-2"},l={class:"user-price d-flex align-items-center jy-content-between"},u={class:"user-price-discount"};function p(t,s,i,p,h,m){return(0,c.wg)(),(0,c.iD)("div",o,[(0,c._)("div",r,[(0,c._)("h3",a,(0,e.zw)(h.title),1)]),(0,c._)("div",{class:"card-body",style:(0,e.j5)({backgroundImage:`url(${i.product.imageUrl})`})},null,4),(0,c._)("div",d,[(0,c._)("h4",{class:"text-medium text-left",style:(0,e.j5)({color:i.originColor})},(0,e.zw)(i.product.title),5),(0,c._)("p",n,(0,e.zw)(i.product.unit)+" / "+(0,e.zw)(i.product.content),1),(0,c._)("div",l,[(0,c._)("p",{class:"user-price-origin",style:(0,e.j5)({color:i.originColor})},"$"+(0,e.zw)(i.product.origin_price),5),(0,c._)("p",u,"$"+(0,e.zw)(i.product.price),1)])])])}var h={props:["titleColor","originColor","product"],data(){return{title:"雙北隔日配",content:"這是內容",footer:"這是結尾"}}},m=i(89);const g=(0,m.Z)(h,[["render",p]]);var _=g},3073:function(t,s,i){i.r(s),i.d(s,{default:function(){return A}});var c=i(3396),e=i(7139);const o={class:"oneProduct"},r={class:"row"},a={class:"col-lg-6"},d={class:"oneProduct-img"},n=["src"],l={class:"col-lg-6 pt-3 mb-20"},u={class:"oneProduct-content pb-10 mb-10"},p={class:"text-title mb-8"},h={class:"text-medium f-size-xs text-c-primary mb-8"},m={key:0},g={key:1},_={class:"mb-8"},v=(0,c._)("span",{class:"d-block text-medium text-c-primary mb-2"},"商品資訊",-1),y={class:"d-block mb-1"},b={class:"d-block mb-1"},w=(0,c._)("p",null,[(0,c._)("span",{class:"d-block text-medium text-c-primary mb-2"},"付款方式"),(0,c._)("span",{class:"d-block mb-1"},"現金"),(0,c._)("span",{class:"d-block mb-1"},"信用卡")],-1),k={class:"oneProduct-buy"},x=(0,c._)("p",{class:"mb-2"},"數量",-1),f={class:"amount mb-4"},C=["value"],z=["disabled"],L={key:0},$=(0,c._)("i",{class:"fas fa-pulse fa-spinner"},null,-1),q=[$],P={key:1},j={class:"col-lg-12 mb-5"},D={class:"oneProduct-desc"},Q=(0,c._)("h4",{class:"text-medium text-center text-c-primary f-size-xs"},"商品說明",-1),T=(0,c._)("hr",null,null,-1),B=["innerHTML"],H=(0,c._)("hr",null,null,-1),Z={class:"col-lg-12 mb-5"},V={class:"oneProduct-desc"},M=(0,c._)("h4",{class:"text-title mb-2"},"別人也逛過",-1),N={class:"row"},U=["onClick"];function W(t,s,i,$,W,Y){const E=(0,c.up)("LoadingView"),I=(0,c.up)("CardView");return(0,c.wg)(),(0,c.iD)(c.HY,null,[(0,c.Wm)(E,{active:W.isLoading},null,8,["active"]),(0,c._)("div",o,[(0,c._)("div",r,[(0,c._)("div",a,[(0,c._)("div",d,[(0,c._)("img",{src:W.product.imageUrl,alt:""},null,8,n)])]),(0,c._)("div",l,[(0,c._)("div",u,[(0,c._)("h3",p,(0,e.zw)(W.product.title),1),(0,c._)("h4",h,[""!==W.product.price?((0,c.wg)(),(0,c.iD)("span",m,"特價NT$ "+(0,e.zw)(W.product.price),1)):((0,c.wg)(),(0,c.iD)("span",g,"NT$"+(0,e.zw)(W.product.origin_price),1))]),(0,c._)("p",_,[v,(0,c._)("span",y,"重量："+(0,e.zw)(W.product.content),1),(0,c._)("span",b,"規格："+(0,e.zw)(W.product.unit),1)]),w]),(0,c._)("div",k,[x,(0,c._)("div",f,[(0,c._)("div",{onClick:s[0]||(s[0]=(...t)=>Y.addQty&&Y.addQty(...t)),class:"add"},"+"),(0,c._)("input",{value:W.qty,type:"number",name:"amount",min:"1",max:"20",step:"1",readonly:""},null,8,C),(0,c._)("div",{onClick:s[1]||(s[1]=(...t)=>Y.decQty&&Y.decQty(...t)),class:"dec"},"-")]),(0,c._)("button",{onClick:s[2]||(s[2]=(...t)=>Y.addCart&&Y.addCart(...t)),class:"user-btn user-btn-primary text-center py-2",type:"button",disabled:W.isBtnLoading},[W.isBtnLoading?((0,c.wg)(),(0,c.iD)("span",L,q)):((0,c.wg)(),(0,c.iD)("span",P,"加入購物車"))],8,z)])]),(0,c._)("div",j,[(0,c._)("div",D,[Q,T,(0,c._)("p",{class:"text-medium pt-5",innerHTML:W.product.description},null,8,B),H])]),(0,c._)("div",Z,[(0,c._)("div",V,[M,(0,c._)("div",N,[((0,c.wg)(!0),(0,c.iD)(c.HY,null,(0,c.Ko)(W.products,(t=>((0,c.wg)(),(0,c.iD)("div",{key:t.id,class:"col-lg-3 transition-s hover-scale pointer",onClick:s=>Y.routerTo("/product/"+t.id)},[(0,c.Wm)(I,{"title-color":"white",product:t},null,8,["product"])],8,U)))),128))])])])])])],64)}var Y=i(4839),E={props:["id"],data(){return{product:{},products:[],qty:1,isLoading:!1,isBtnLoading:!1}},components:{CardView:Y.Z},methods:{addQty(){this.qty>=20?this.qty=20:this.qty+=1},decQty(){this.qty<=1?this.qty=1:this.qty-=1},getCart(){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/ginjack/cart").then((t=>{this.$emitter.emit("updateCart",t.data.data)})).catch((t=>{console.dir(t)}))},addCart(){this.isBtnLoading=!0;const t={data:{product_id:this.product.id,qty:this.qty}};this.$http.post("https://vue3-course-api.hexschool.io/v2/api/ginjack/cart",t).then((()=>{this.getCart(),this.qty=1,this.isBtnLoading=!1})).catch((t=>{console.dir(t)}))},getProduct(){this.isLoading=!0,this.$http.get(`https://vue3-course-api.hexschool.io/v2/api/ginjack/product/${this.id}`).then((t=>{this.product=t.data.product,this.isLoading=!1})).catch((t=>{console.dir(t)}))},routerTo(t){this.$router.push(t)}},watch:{id(){this.getProduct()}},mounted(){this.getProduct(),this.$http.get("https://vue3-course-api.hexschool.io/v2/api/ginjack/products").then((t=>{t.data.products.forEach(((t,s)=>{s<=3&&this.products.push(t)}))})).catch((t=>{console.dir(t)}))}},I=i(89);const K=(0,I.Z)(E,[["render",W]]);var A=K}}]);
//# sourceMappingURL=73.12ee8445.js.map