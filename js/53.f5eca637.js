"use strict";(self["webpackChunkvue_week6"]=self["webpackChunkvue_week6"]||[]).push([[53],{4839:function(t,e,i){i.d(e,{Z:function(){return v}});var a=i(3396),n=i(7139);const o={class:"card"},s={class:"card-title bg-primary"},r={class:"text-medium text-c-white"},c={class:"card-footer"},l={class:"text-c-primary text-left mb-2"},d={class:"user-price d-flex align-items-center jy-content-between"},u={class:"user-price-discount"};function p(t,e,i,p,g,h){return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",s,[(0,a._)("h3",r,(0,n.zw)(g.title),1)]),(0,a._)("div",{class:"card-body",style:(0,n.j5)({backgroundImage:`url(${i.product.imageUrl})`})},null,4),(0,a._)("div",c,[(0,a._)("h4",{class:"text-medium text-left",style:(0,n.j5)({color:i.originColor})},(0,n.zw)(i.product.title),5),(0,a._)("p",l,(0,n.zw)(i.product.unit)+" / "+(0,n.zw)(i.product.content),1),(0,a._)("div",d,[(0,a._)("p",{class:"user-price-origin",style:(0,n.j5)({color:i.originColor})},"$"+(0,n.zw)(i.product.origin_price),5),(0,a._)("p",u,"$"+(0,n.zw)(i.product.price),1)])])])}var g={props:["titleColor","originColor","product"],data(){return{title:"雙北隔日配",content:"這是內容",footer:"這是結尾"}}},h=i(89);const _=(0,h.Z)(g,[["render",p]]);var v=_},9934:function(t,e,i){i.d(e,{Z:function(){return v}});var a=i(3396),n=i(7139),o=i(9242);const s=t=>((0,a.dD)("data-v-62f55b02"),t=t(),(0,a.Cn)(),t),r=s((()=>(0,a._)("span",null,[(0,a._)("i",{class:"fas fa-chevron-left"}),(0,a.Uk)("Prev")],-1))),c=[r],l=["onClick"],d=s((()=>(0,a._)("span",null,[(0,a.Uk)("Next"),(0,a._)("i",{class:"fas fa-chevron-right"})],-1))),u=[d];function p(t,e,i,s,r,d){return 0!==i.pagination.total_pages?((0,a.wg)(),(0,a.iD)("ul",{key:0,class:"pagination d-flex align-items-center jy-content-center",style:(0,n.j5)({backgroundColor:i.style.bg})},[(0,a.wy)((0,a._)("li",{style:(0,n.j5)(d.styleObject),class:"pagination__prev",onClick:e[0]||(e[0]=e=>t.$emit("getProduct",i.pagination.current_page-1))},c,4),[[o.F8,i.pagination.has_pre]]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.pagination.total_pages,(e=>((0,a.wg)(),(0,a.iD)("li",{class:(0,n.C_)(["pagination__item",{active:e===i.pagination.current_page}]),key:e,style:(0,n.j5)(d.styleObject),onClick:i=>t.$emit("getProduct",e)},[(0,a._)("span",null,(0,n.zw)(e),1)],14,l)))),128)),(0,a.wy)((0,a._)("li",{style:(0,n.j5)(d.styleObject),class:"pagination__next",onClick:e[1]||(e[1]=e=>t.$emit("getProduct",i.pagination.current_page+1))},u,4),[[o.F8,i.pagination.has_next]])],4)):(0,a.kq)("",!0)}var g={props:["pagination","style"],emits:["getProduct"],computed:{styleObject(){return{"--background":this.style.bg,"--background-hover":this.style.hoverBg}}}},h=i(89);const _=(0,h.Z)(g,[["render",p],["__scopeId","data-v-62f55b02"]]);var v=_},2053:function(t,e,i){i.r(e),i.d(e,{default:function(){return m}});var a=i(3396),n=i(7139);const o=t=>((0,a.dD)("data-v-6763331f"),t=t(),(0,a.Cn)(),t),s=o((()=>(0,a._)("h2",{class:"text-title text-center mb-10"},"放心初-每日精選",-1))),r={class:"row product-content"},c={class:"addToCart"},l=["onClick","disabled"],d={key:0},u=o((()=>(0,a._)("i",{class:"fas fa-pulse fa-spinner"},null,-1))),p=[u],g={key:1};function h(t,e,i,o,u,h){const _=(0,a.up)("LoadingView"),v=(0,a.up)("CardView"),y=(0,a.up)("router-link"),w=(0,a.up)("PageView");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(_,{active:u.isLoading},null,8,["active"]),s,(0,a._)("div",r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(u.products,(t=>((0,a.wg)(),(0,a.iD)("div",{class:"col-lg-3 mb-4 p-relative hover-big",key:t.id},[(0,a._)("div",c,[(0,a._)("button",{onClick:e=>h.addCart(1,t.id),type:"button",class:"user-btn user-btn-thirdary py-3",disabled:u.isBtnLoading===t.id},[u.isBtnLoading===t.id?((0,a.wg)(),(0,a.iD)("span",d,p)):((0,a.wg)(),(0,a.iD)("span",g,"加入購物車"))],8,l)]),(0,a.Wm)(y,{to:"/product/"+t.id},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{"title-color":"white",product:t},null,8,["product"])])),_:2},1032,["to"])])))),128))]),(0,a.Wm)(w,{pagination:u.pagination,style:(0,n.j5)(u.style),onGetProduct:h.getProducts},null,8,["pagination","style","onGetProduct"])],64)}var _=i(4839),v=i(9934),y={data(){return{products:[],cart:[],tempCartProduct:{},pagination:{},style:{bg:"#C59854",hoverBg:"#A01800"},isLoading:!1,isBtnLoading:""}},components:{CardView:_.Z,PageView:v.Z},methods:{getProducts(t=1){this.isLoading=!0,this.$http.get(`https://vue3-course-api.hexschool.io/v2/api/ginjack/products?page=${t}`).then((t=>{this.products=t.data.products,this.pagination=t.data.pagination,this.isLoading=!1})).catch((t=>{console.dir(t)}))},getCart(){this.$http.get("https://vue3-course-api.hexschool.io/v2/api/ginjack/cart").then((t=>{this.$emitter.emit("updateCart",t.data.data)})).catch((t=>{console.dir(t)}))},addCart(t,e){const i={data:{product_id:e,qty:t}};this.isBtnLoading=e,this.$http.post("https://vue3-course-api.hexschool.io/v2/api/ginjack/cart",i).then((()=>{this.getCart(),this.isBtnLoading=""})).catch((t=>{console.dir(t)}))}},mounted(){this.getProducts()}},w=i(89);const f=(0,w.Z)(y,[["render",h],["__scopeId","data-v-6763331f"]]);var m=f}}]);
//# sourceMappingURL=53.f5eca637.js.map